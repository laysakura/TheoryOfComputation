\section{点・直線・円}
\subsection{点の位置に黒丸}
軌跡を求める問題などで，端点が含まれるとか含まれないとかを
黒丸・中抜きの白丸などで表示することがあります．
そのためのコマンドが \cmd{Kuromaru}, \cmd{Siromaru} です．

\showexample[黒丸・白丸](0.6)(0.34){example/zahyou01}

その書式は\cindex{Kuromaru}\cindex{Siromaru}

\begin{boxnote}
\begin{verbatim}
黒丸，白丸
\Kuromaru[#1]#2
\Siromaru[#1]#2
   #1 : 丸の半径（単位をつける）デフォルトは 1pt
   #2 : 位置
\end{verbatim}
\end{boxnote}

黒丸の大きさを変更したいときは，\cmd{Kuromaru}の\verb/[#1]/オプションを
利用すればよいのですが，
文書全体で，あるいは広範囲に\cmd{Kuromaru}の大きさを変更したいときは
\cmd{KuromaruHankei}コマンドの引数に黒丸の半径（単位つき） を
与える方法もあります。\cindex{KuromaruHankei}

\showexample[黒丸の大きさ](0.6)(0.34){example/zahyou02}

複数の点に黒丸（白丸）をつけるコマンドが \cmd{kuromaru}(\cmd{siromaru})
です。複数の点を`;'で区切ります。\cindex{kuromaru}\cindex{siromaru}

\showexample[複数の点に黒丸](0.6)(0.34){example/zahyou03}

丸のサイズを指定する \texttt{[..]}オプションも \cmd{Kuromaru} などと
同様に有効です。

\subsection{2点間の距離}
2点間の距離を求めるには，コマンド \cmd{Kyori} を用います．\cindex{Kyori}

    \showexample[\cmd{Kyori}](0.52)(0.42){example/kyori01}\bigskip

\cmd{Kyori} の書式です．

\begin{boxnote}
\begin{verbatim}
% 2点間の距離
% \Kyori#1#2#3
%   2点 #1, #2 の距離を #3 に代入
\end{verbatim}
\end{boxnote}\bigskip

距離の平方を求めるコマンドが \cmd{Kyorii} です．

    \showexample[\cmd{Kyorii}](0.52)(0.42){example/kyori02}\bigskip

\cmd{Kyorii} の書式です．\cindex{Kyorii}

\begin{boxnote}
\begin{verbatim}
% 2点間の距離の平方
% \Kyorii#1#2#3
%   2点 #1, #2 の距離の平方を #3 に代入
\end{verbatim}
\end{boxnote}\bigskip


\subsection{直線}
\subsubsection{２点を通る直線}
2点を通る直線を描画するコマンドが \cmd{Tyokusen} です．

\showexample[2点を通る直線](0.5)(0.45){example/tyoku01}

\cmd{Tyokusen}の書式です．\cindex{Tyokusen}

\begin{boxnote}
\begin{verbatim}
2点を与えて直線を描画する．
\Tyokusen[#1]#2#3[#4]#5[#6]#7
   #1 : \qbezier の [...]
        #1を与えないときは直線を
        \qbezier ではなく，\drawline で描画する．
   #2,3 : 直線上の２点
   #5 : 左端の x座標 （#4 に [y] とすれば，y座標）
   #7 : 右端の x座標 （#6 に [y] とすれば，y座標）
\end{verbatim}
\end{boxnote}

直線を描画領域いっぱいにかくときは，\verb/#5, #7/を
空にすることができます。

\showexample[2点を通る直線](0.5)(0.45){example/tyoku04}

この場合，描画した直線の両端点が
\begin{jquote}
\begin{verbatim}
\hidariT, \migiT
\end{verbatim}
\end{jquote}
に定義されています。ただし，\verb+\hidariT+と\verb+\migiT+は，左・右とはなっていません。

\begin{showEx}(.5,.44){\cmd{hidariT}(1)}
\begin{zahyou}[ul=10mm](-2,2)(-1,3)%
\tenretu{A(0,1)se;B(1,2)nw}
\kuromaru{\A;\B}
\Tyokusen\A\B{}{}
\Put\hidariT[e]{\cmd{hidariT}}
\Put\migiT[e]{\cmd{migiT}}
\end{zahyou}%
\end{showEx}

\noindent
は自然ですが,

\begin{showEx}(.5,.44){\cmd{hidariT}(2)}
\begin{zahyou}[ul=10mm](-2,2)(-1,3)%
\tenretu{A(1,2)se;B(0,1)nw}
\kuromaru{\A;\B}
\Tyokusen\A\B{}{}
\Put\hidariT[e]{\cmd{hidariT}}
\Put\migiT[e]{\cmd{migiT}}
\end{zahyou}%
\end{showEx}

\noindent
は，\verb+???+ですね。

\verb+#1+に近い方が\verb+\hidariT+, \verb+#2+に近い方が\verb+\migiT+です。

\subsubsection{1点と方向ベクトルによる直線}
1点と方向ベクトルを与えて直線を描画するコマンドが
\cmd{mTyokusen} です．

\showexample[1点と方向ベクトルを指定](0.5)(0.45){example/tyoku02}

その書式は\cindex{mTyokusen}
\begin{boxnote}
\begin{verbatim}
１点と方向ベクトルを与えて直線を描画する．
\mTyokusen[#1]#2#3[#4]#5[#6]#7
   #1 : \qbezier の [...]
        #1を与えないときは直線を
        \qbezier ではなく，\drawline で描画する．
   #2 : 直線上の１点
   #3 : 方向ベクトル
   #5 : 左端の x座標 （#4 に [y] とすれば，y座標）
   #7 : 右端の x座標 （#6 に [y] とすれば，y座標）
\end{verbatim}
\end{boxnote}

直線を描画領域いっぱいにかくときは，\verb/#5, #7/を
空にすることができます。

\showexample[端点の指定省略](0.5)(0.45){example/tyoku05}

この場合も，両端点が\verb+\hidariT, \migiT+に定義されています。

\subsubsection{1点と方向角による直線}
1点と方向角を与えて直線を描画するコマンドが
\cmd{kTyokusen} です．

\showexample[1点と方向角を指定](0.5)(0.45){example/tyoku06}

その書式は\cindex{kTyokusen}
\begin{boxnote}
\begin{verbatim}
１点と方向角を与えて直線を描画する．
\kTyokusen[#1]#2#3[#4]#5[#6]#7
   #1 : \qbezier の [...]
        #1を与えないときは直線を
        \qbezier ではなく，\drawline で描画する．
   #2 : 直線上の１点
   #3 : 方向角
   #5 : 左端の x座標 （#4 に [y] とすれば，y座標）
   #7 : 右端の x座標 （#6 に [y] とすれば，y座標）
\end{verbatim}
\end{boxnote}

直線を描画領域いっぱいにかくときは，\verb/#5, #7/を
空にすることができます。

この場合も，両端点が\verb+\hidariT, \migiT+に定義されています。

\subsubsection{線種の変更}
直線を実線ではなく，点線とか破線で描画するには \cmd{sensyu}を再定義します。
\cindex{sensyu}
デフォルトは
\begin{jquote}(4zw)
\begin{verbatim}
\def\sensyu{\drawline}
\end{verbatim}
\end{jquote}
となっています。

\showexample[線種の変更](0.5)(0.45){example/tyoku07}

%\subsubsection{直線 \texorpdfstring{\protect $ax+by+c=0$}{ax+by+c=0}}
\subsubsection{直線 \protect $ax+by+c=0$}
方程式 $ax+by+c=0$ で与えられた直線を描画する \cmd{tyokusen} です．

\showexample[方程式の係数指定](0.5)(0.45){example/tyoku03}

その書式は\cindex{tyokusen}
\begin{boxnote}
\begin{verbatim}
直線 ax+by+c=0 を描画する．
\tyokusen[#1]#2#3#4[#5]#6[#7]#8
   #1 : \qbezier の [...]
        #1を与えないときは直線を
        \qbezier ではなく，\drawline で描画する．
   #2 : a
   #3 : b
   #4 : c
   #6 : 左端の x座標 （#5 に [y] とすれば，y座標）
   #8 : 右端の x座標 （#7 に [y] とすれば，y座標）
\end{verbatim}
\end{boxnote}

このコマンドでも，座標平面全体に描画するときは
\verb/#5, #7/は空でかまいません。

%\subsubsection{直線 \texorpdfstring{\protect $y=ax+b$}{y=ax+b}}
\subsubsection{直線 \protect $y=ax+b$}
これは，次節の一次関数のグラフ描画コマンドをご利用ください．

%\subsubsection{\texorpdfstring{点P\protect\retu(x_1,y_1)と直線$ax+by+c=0$の距離}{%
%  点P(x1,y1)と直線ax+by+c=0}}
\subsubsection{点P\protect\retu(x_1,y_1)と直線$ax+by+c=0$の距離}
点Pと直線$l$の距離を求めることにより，点Pを中心として$l$に接する円を
描画することが出来ます．

    \showexample[\cmd{tentotyokusen}](0.52)(0.42){example/kyori03}\bigskip

その書式は\cindex{tentotyokusen}

\begin{boxnote}
\begin{verbatim}
点と直線の距離(1)
  点 P$(x1,y1)$ と直線 $ax+by+c=0$ との距離を求める．
  \tentotyokusen#1#2#3#4#5
    #1 : 点P
    #2 : $a$
    #3 : $b$
    #4 : $c$
    #5 : 点と直線の距離
\end{verbatim}
\end{boxnote}\bigskip

\subsubsection{点P\protect\retu(x_1,y_1)と2点A,Bを通る直線の距離}
直線がその上の2点で指定された場合です．

    \showexample[\cmd{tentoTyokusen}](0.52)(0.42){example/kyori04}\bigskip

その書式は\cindex{tentoTyokusen}

\begin{boxnote}
\begin{verbatim}
点と直線の距離(2)
  点 P\retu(x1,y1) と直線 AB との距離を求める．
  \tentoTyokusen#1#2#3#4
    #1 : 点P
    #2 : 点A
    #3 : 点B
    #4 : 点と直線の距離
\end{verbatim}
\end{boxnote}\bigskip

\subsection{円の接線}
\subsubsection{円周上の点における接線}
円周上の点における接線を描画するために，
その方向ベクトルを求めるコマンドが \cmd{ennoSessen} です．

\showexample[　円周上の点における接線](0.5)(0.45){example/sessen01}

その書式は\cindex{ennoSessen}

\begin{boxnote}
\begin{verbatim}
円周上の点における接線の単位方向ベクトルを求める．
\ennoSessen#1#2#3{%
   #1 : 円の中心
   #2 : 円周上の点
   #3 : 接線の方向ベクトル（単位ベクトル）
\end{verbatim}
\end{boxnote}

\subsubsection{円外の点からの接線}
円の外部の点から円に引いた接線の2個の接点を求めるコマンドが
\cmd{enniSessen}です．

\showexample[円外の点からの接線](0.5)(0.45){example/sessen02}

書式は\cindex{enniSessen}
\begin{boxnote}
\begin{verbatim}
円の外部の点から円に引いた接線の接点を求める．
\enniSessen#1#2#3#4#5{%
   #1 : 円の中心
   #2 : 円の半径
   #3 : 円の外部の点
   #4 : 接点(1)
   #5 : 接点(2)
      2つの接点のうち
         x座標の小さい方
            等しいときは y座標の小さい方
         が #4 に入ります．
\end{verbatim}
\end{boxnote}

\subsubsection{二つの円の共通接線}
2つの円の共通外（内）接線を描画するためのコマンドが
\cmd{KTGAISessen}, \cmd{KTNAISessen} です。
書式は \cindex{KTGAISessen}\cindex{KTNAISessen}
\begin{boxnote}
\begin{verbatim}
\KTGAISessen#1#2#3#4#5#6#7#8
\KTNAISessen#1#2#3#4#5#6#7#8
  #1 : 円1の中心
  #2 : 円1の半径
  #3 : 円2の中心
  #4 : 円2の半径
  #5 : 共通接線1と円1の接点
  #6 : 共通接線1と円2の接点
  #7 : 共通接線2と円1の接点
  #8 : 共通接線2と円2の接点
\end{verbatim}
\end{boxnote}
\noindent
で，共通接線と円との接点を求め，
\cmd{Tyokusen} などで共通接線を引きます。その一例です。

\showexample[共通接線](0.9)(0.9){example/sessen03}

\subsection{半直線}
端点と方向角を六十分法で指定して半直線を描画する
コマンドが \cmd{kHantyokusen} です。

\showexample[半直線（端点と方向角指定)](0.5)(0.45){example/tyoku08}

端点と方向ベクトルを指定する \cmd{mHantyokusen} です。

\showexample[半直線（端点と方向ベクトル指定)](0.5)(0.45){example/tyoku09}

端点と通過する1点を指定する \cmd{Hantyokusen} です。

\showexample[半直線（端点と通過する1点指定)](0.5)(0.45){example/tyoku10}

これらの半直線の線種を変更するには，
\begin{jquote}
\begin{verbatim}
<sensyu=....>
\end{verbatim}
\end{jquote}
オプションを利用します。一例です。

\showexample[鎖線で半直線](0.5)(0.45){example/tyoku11}

半直線の描画領域における端点を返すコマンドが\cmd{HtyokuT}です。
半直線にラベルをつけたりするのに便利でしょう。
\cindex{HtyokuT}

\begin{showEx}{\cmd{HtyokuT}}
\begin{zahyou}[ul=10mm]%
(-1.5,1.5)(-1.5,1.5)
  \En\O{1}
  \kHantyokusen\O{60}
  \Put\HtyokuT[se]{$\ell$}
\end{zahyou}
\end{showEx}
